jQuery.fn.extend({createRepeater:function(t={}){var e=function(t){return t.replace(/\[/g,"_").replace(/\]/g,"").toLowerCase()},a=function(t,a,r=!0){var i=t,d=i.data("group");i.find("input,select,textarea").each((function(t,n){var i=$(n).data("name");1!=$(n).data("skip-name")?$(n).attr("name",d+"["+a+"]["+i+"]"):"undefined"!=i&&$(n).attr("name",i),1==r&&$(n).attr("value",""),$(n).attr("id",e($(n).attr("name"))),$(n).parent().find("label").attr("for",e($(n).attr("name")))}));var o=t,c=o.find(".remove-btn");0==a?c.attr("disabled",!0):c.attr("disabled",!1),c.attr("onclick","$(this).parents('.items').remove()");var s=$("<div class='items'>"+o.html()+"<div/>");s.attr("data-index",a),s.appendTo(n)},n=this,r=n.find(".items"),i=0,d=n.find(".repeater-add-btn");r.each((function(e,n){var d;r.remove(),d="showFirstItemToDefault",(t.hasOwnProperty(d)&&1==function(e){return t[e]}("showFirstItemToDefault")||r.length>1)&&(a($(n),i),i++)})),d.on("click",(function(){a($(r[0]),i),i++}))}});